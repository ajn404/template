<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />
    <title>three-tile最小化应用</title>
  </head>
  <style>
    html,
    body {
      background-color: #333;
      height: 400px;
      width: 100%;
      padding: 0;
      margin: 0;
      display: flex;
      overflow: hidden;
    }
    #map {
      flex: 1;
    }
  </style>

  <script type="importmap">
    {
      "imports": {
        "three": "https://cdnjs.cloudflare.com/ajax/libs/three.js/0.172.0/three.module.js",
        "three-tile": "https://unpkg.com/three-tile@0.9.0/dist/three-tile.js"
      }
    }
  </script>

  <body>
    <div id="map"></div>
    <script type="module">
      import * as THREE from "three";
      import * as tt from "three-tile";

      console.log(`three-tile v${tt.version} start!`);

      // 创建地图
      const map = tt.TileMap.create({
        // 影像数据源
        imgSource: new tt.plugin.ArcGisSource(),
        // 地形数据源
        demSource: new tt.plugin.ArcGisDemSource(),
      });
      // 地图旋转到xz平面
      map.rotateX(-Math.PI / 2);

      // 初始化场景
      const viewer = new tt.plugin.GLViewer("#map");

      // 地图添加到场景
      viewer.scene.add(map);
    </script>
  </body>
</html>
