<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://unpkg.com/maplibre-gl@latest/dist/maplibre-gl.js"></script>
    <link
      href="https://unpkg.com/maplibre-gl@latest/dist/maplibre-gl.css"
      rel="stylesheet"
    />
    <style>
      body {
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="map" style="width: 100%; height: 100vh"></div>
    <script>
      // 初始化地图
      //   const map = new maplibregl.Map({
      //     container: "map",
      //     style: "https://demotiles.maplibre.org/style.json",
      //     center: [121.4737, 31.2304], // 上海
      //     zoom: 12,
      //     pitch: 60, // 倾斜视角
      //   });

      // 添加 3D 柱状图图层
      //   map.on("load", () => {
      //     map.addLayer({
      //       id: "3d-buildings",
      //       type: "fill-extrusion",
      //       source: {
      //         type: "geojson",
      //         data: {
      //           type: "FeatureCollection",
      //           features: [
      //             {
      //               type: "Feature",
      //               geometry: {
      //                 type: "Polygon",
      //                 coordinates: [
      //                   [
      //                     [121.47, 31.23],
      //                     [121.48, 31.23],
      //                     [121.48, 31.24],
      //                     [121.47, 31.24],
      //                   ],
      //                 ],
      //               },
      //               properties: { height: 1000 },
      //             },
      //           ],
      //         },
      //       },
      //       paint: {
      //         "fill-extrusion-color": "#FF0000",
      //         "fill-extrusion-height": ["get", "height"],
      //         "fill-extrusion-opacity": 0.6,
      //       },
      //     });
      //   });

      const map = new maplibregl.Map({
        container: "map",
        style: {
          version: 8,
          sources: {
            MIERUNEMAP: {
              type: "raster",
              tiles: [
                "https://tile.mierune.co.jp/mierune_mono/{z}/{x}/{y}.png",
              ],
              tileSize: 256,
            },
          },
          layers: [
            {
              id: "MIERUNEMAP",
              type: "raster",
              source: "MIERUNEMAP",
              minzoom: 0,
              maxzoom: 18,
            },
          ],
        },
        center: [112.5, 22.3],
        zoom: 7,
      });

      map.addControl(
        new maplibregl.NavigationControl({
          visualizePitch: true,
        })
      );
    </script>
  </body>
</html>
